{"uid":"d929b22753c9e1fe","name":"TC 01_15_01 Verify possibility to vote with 4 stars","fullName":"tests.test_reviews_page.TestReviews#test_tc_01_15_04_check_that_it_is_possible_to_vote_for_4_star","historyId":"35f5c2973e4c2aa675f5aa7de8684c7e","time":{"start":1744513339448,"stop":1744513349913,"duration":10465},"description":"\n        The user is NOT logged in, located in the product card, section \"Reviews\"\n        1. All required fields are filled with correct data\n        2. Pressed 4 star\n        3.The \"Submit Review\" button is pressed\n        Result: Present in the DOM and visible on the page the message: \"You submitted your review for moderation.\n        This code works when run on Win, Mac, Ubuntu on a real laptop and has the features of working on GitHub Action.\n        When interacting with the GitHub Action, it checks not for the text of the \"Success\" message, but for the \"Success\" URL\"\n        ","descriptionHtml":"<pre><code>    The user is NOT logged in, located in the product card, section &quot;Reviews&quot;\n    1. All required fields are filled with correct data\n    2. Pressed 4 star\n    3.The &quot;Submit Review&quot; button is pressed\n    Result: Present in the DOM and visible on the page the message: &quot;You submitted your review for moderation.\n    This code works when run on Win, Mac, Ubuntu on a real laptop and has the features of working on GitHub Action.\n    When interacting with the GitHub Action, it checks not for the text of the &quot;Success&quot; message, but for the &quot;Success&quot; URL&quot;\n</code></pre>\n","status":"skipped","statusMessage":"XFAIL Flaky behavior on CI\n\nAssertionError: Leave a review failed\nassert (None == 'You submitted your review for moderation.' or 'https://magento.softwaretestingboard.com/review/product/post/id' in 'https://magento.softwaretestingboard.com/meteor-workout-short.html')","statusTrace":"self = <test_reviews_page.TestReviews object at 0x7faf494444d0>\ndriver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"1a38a72fb9b48a9dfc9ea3cf08cdea6d\")>\n\n    @pytest.mark.xfail(reason=\"Flaky behavior on CI\")\n    @allure.title('TC 01_15_01 Verify possibility to vote with 4 stars')\n    def test_tc_01_15_04_check_that_it_is_possible_to_vote_for_4_star(self, driver):\n        \"\"\"\n        The user is NOT logged in, located in the product card, section \"Reviews\"\n        1. All required fields are filled with correct data\n        2. Pressed 4 star\n        3.The \"Submit Review\" button is pressed\n        Result: Present in the DOM and visible on the page the message: \"You submitted your review for moderation.\n        This code works when run on Win, Mac, Ubuntu on a real laptop and has the features of working on GitHub Action.\n        When interacting with the GitHub Action, it checks not for the text of the \"Success\" message, but for the \"Success\" URL\"\n        \"\"\"\n    \n        \"\"\"Steps\"\"\"\n        page = ReviewsPage(driver, REVIEWS_URL_GENERAL)\n        page.open()\n    \n        \"\"\"Get the current URL and print it\"\"\"\n        page.get_the_current_URL_and_print_it()\n    \n        \"\"\"Steps\"\"\"\n        page.open_review_menu()\n        page.star_4_review_correct()\n        page.nickname_input_review_correct()\n        page.summary_input_review_correct()\n        page.review_input_review_correct()\n    \n        \"\"\"Button click\"\"\"\n        page.send_review_correct()\n    \n        \"\"\"Checking the success message\"\"\"\n        # Checking if there are empty fields or an unpressed star\n        page.checking_for_blank_fields_or_an_unpressed_star()\n        # Checking if the feedback was sent successfully\n        review_successfully_submitted = page.review_have_been_send_correctly()\n    \n        \"\"\"Get the current URL and print it\n        The variable is requested first for comparison, now for use in an assertion for a GitHub Action\"\"\"\n        result_CI_GitHub_Action_URL = page.get_the_current_URL_and_print_it()\n    \n        if review_successfully_submitted == \"You submitted your review for moderation.\":\n            print('review_successfully_submitted', ' \"Success\" = Review sent successfully!')\n            assert review_successfully_submitted == \"You submitted your review for moderation.\", \"Leave a review failed\"\n    \n        elif 'https://magento.softwaretestingboard.com/review/product/post/id' in result_CI_GitHub_Action_URL:\n            print('review_successfully_submitted', ' \"Success\" = Review sent successfully!')\n            print('The review is recorded at the address and under the number: ', result_CI_GitHub_Action_URL)\n            assert 'https://magento.softwaretestingboard.com/review/product/post/id' in result_CI_GitHub_Action_URL, \"Leave a review failed\"\n    \n        else:\n            print('Leave a review failed')\n>           assert review_successfully_submitted == \"You submitted your review for moderation.\" or 'https://magento.softwaretestingboard.com/review/product/post/id' in result_CI_GitHub_Action_URL, \"Leave a review failed\"\nE           AssertionError: Leave a review failed\nE           assert (None == 'You submitted your review for moderation.' or 'https://magento.softwaretestingboard.com/review/product/post/id' in 'https://magento.softwaretestingboard.com/meteor-workout-short.html')\n\ntests/test_reviews_page.py:229: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1744512102559,"stop":1744512102620,"duration":61},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clear_allure_result_folder","time":{"start":1744512102620,"stop":1744512102620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"driver","time":{"start":1744513338267,"stop":1744513339448,"duration":1181},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n        The user is NOT logged in, located in the product card, section \"Reviews\"\n        1. All required fields are filled with correct data\n        2. Pressed 4 star\n        3.The \"Submit Review\" button is pressed\n        Result: Present in the DOM and visible on the page the message: \"You submitted your review for moderation.\n        This code works when run on Win, Mac, Ubuntu on a real laptop and has the features of working on GitHub Action.\n        When interacting with the GitHub Action, it checks not for the text of the \"Success\" message, but for the \"Success\" URL\"\n        ","status":"skipped","statusMessage":"XFAIL Flaky behavior on CI\n\nAssertionError: Leave a review failed\nassert (None == 'You submitted your review for moderation.' or 'https://magento.softwaretestingboard.com/review/product/post/id' in 'https://magento.softwaretestingboard.com/meteor-workout-short.html')","statusTrace":"self = <test_reviews_page.TestReviews object at 0x7faf494444d0>\ndriver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"1a38a72fb9b48a9dfc9ea3cf08cdea6d\")>\n\n    @pytest.mark.xfail(reason=\"Flaky behavior on CI\")\n    @allure.title('TC 01_15_01 Verify possibility to vote with 4 stars')\n    def test_tc_01_15_04_check_that_it_is_possible_to_vote_for_4_star(self, driver):\n        \"\"\"\n        The user is NOT logged in, located in the product card, section \"Reviews\"\n        1. All required fields are filled with correct data\n        2. Pressed 4 star\n        3.The \"Submit Review\" button is pressed\n        Result: Present in the DOM and visible on the page the message: \"You submitted your review for moderation.\n        This code works when run on Win, Mac, Ubuntu on a real laptop and has the features of working on GitHub Action.\n        When interacting with the GitHub Action, it checks not for the text of the \"Success\" message, but for the \"Success\" URL\"\n        \"\"\"\n    \n        \"\"\"Steps\"\"\"\n        page = ReviewsPage(driver, REVIEWS_URL_GENERAL)\n        page.open()\n    \n        \"\"\"Get the current URL and print it\"\"\"\n        page.get_the_current_URL_and_print_it()\n    \n        \"\"\"Steps\"\"\"\n        page.open_review_menu()\n        page.star_4_review_correct()\n        page.nickname_input_review_correct()\n        page.summary_input_review_correct()\n        page.review_input_review_correct()\n    \n        \"\"\"Button click\"\"\"\n        page.send_review_correct()\n    \n        \"\"\"Checking the success message\"\"\"\n        # Checking if there are empty fields or an unpressed star\n        page.checking_for_blank_fields_or_an_unpressed_star()\n        # Checking if the feedback was sent successfully\n        review_successfully_submitted = page.review_have_been_send_correctly()\n    \n        \"\"\"Get the current URL and print it\n        The variable is requested first for comparison, now for use in an assertion for a GitHub Action\"\"\"\n        result_CI_GitHub_Action_URL = page.get_the_current_URL_and_print_it()\n    \n        if review_successfully_submitted == \"You submitted your review for moderation.\":\n            print('review_successfully_submitted', ' \"Success\" = Review sent successfully!')\n            assert review_successfully_submitted == \"You submitted your review for moderation.\", \"Leave a review failed\"\n    \n        elif 'https://magento.softwaretestingboard.com/review/product/post/id' in result_CI_GitHub_Action_URL:\n            print('review_successfully_submitted', ' \"Success\" = Review sent successfully!')\n            print('The review is recorded at the address and under the number: ', result_CI_GitHub_Action_URL)\n            assert 'https://magento.softwaretestingboard.com/review/product/post/id' in result_CI_GitHub_Action_URL, \"Leave a review failed\"\n    \n        else:\n            print('Leave a review failed')\n>           assert review_successfully_submitted == \"You submitted your review for moderation.\" or 'https://magento.softwaretestingboard.com/review/product/post/id' in result_CI_GitHub_Action_URL, \"Leave a review failed\"\nE           AssertionError: Leave a review failed\nE           assert (None == 'You submitted your review for moderation.' or 'https://magento.softwaretestingboard.com/review/product/post/id' in 'https://magento.softwaretestingboard.com/meteor-workout-short.html')\n\ntests/test_reviews_page.py:229: AssertionError","steps":[{"name":"Open a browser","time":{"start":1744513339448,"stop":1744513340741,"duration":1293},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Find clickable elements","time":{"start":1744513340745,"stop":1744513340768,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('css selector', '#tab-label-reviews-title')"},{"name":"timeout","value":"5"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click not in the center of the selector, but in its right part, to the right from the center by 45 pixels","time":{"start":1744513341839,"stop":1744513342116,"duration":277},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('css selector', '#Rating_4_label')"},{"name":"timeout","value":"5"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Find clickable elements","time":{"start":1744513342116,"stop":1744513342134,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('css selector', '#nickname_field')"},{"name":"timeout","value":"5"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Find clickable elements","time":{"start":1744513342229,"stop":1744513342247,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('css selector', '#summary_field')"},{"name":"timeout","value":"5"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Find clickable elements","time":{"start":1744513342331,"stop":1744513342348,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('css selector', '#review_field')"},{"name":"timeout","value":"5"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Move cursor to element. Perform a click action without navigating to a new page","time":{"start":1744513343437,"stop":1744513343735,"duration":298},"status":"passed","steps":[{"name":"Find element (unpacking)","time":{"start":1744513343438,"stop":1744513343450,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('css selector', '.submit')"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"locator","value":"('css selector', '.submit')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Find a present element","time":{"start":1744513344735,"stop":1744513344744,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('css selector', '.mage-error')"},{"name":"timeout","value":"5"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click not in the center of the selector, but in its right part, with a margin from the right edge of 5 pixels","time":{"start":1744513344744,"stop":1744513344781,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('css selector', '.mage-error')"},{"name":"timeout","value":"5"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Get element text","time":{"start":1744513344781,"stop":1744513349910,"duration":5129},"status":"broken","statusMessage":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x55943c256e6a <unknown>\n#1 0x55943bd08640 <unknown>\n#2 0x55943bd59b5a <unknown>\n#3 0x55943bd59d51 <unknown>\n#4 0x55943bda8344 <unknown>\n#5 0x55943bd7f77d <unknown>\n#6 0x55943bda57b5 <unknown>\n#7 0x55943bd7f523 <unknown>\n#8 0x55943bd4bef3 <unknown>\n#9 0x55943bd4cb51 <unknown>\n#10 0x55943c21bd2b <unknown>\n#11 0x55943c21fc01 <unknown>\n#12 0x55943c203512 <unknown>\n#13 0x55943c220774 <unknown>\n#14 0x55943c1e790f <unknown>\n#15 0x55943c244fb8 <unknown>\n#16 0x55943c245196 <unknown>\n#17 0x55943c255cb6 <unknown>\n#18 0x7f755409caa4 <unknown>\n#19 0x7f7554129c3c <unknown>\n\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/luma_project/luma_project/pages/base_page.py\", line 145, in get_text\n    text = self.element_is_visible(locator)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/luma_project/luma_project/pages/base_page.py\", line 30, in element_is_visible\n    self.go_to_element(self.element_is_present(locator))\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/luma_project/luma_project/pages/base_page.py\", line 51, in element_is_present\n    return wait(self.driver, timeout).until(EC.presence_of_element_located(locator))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/selenium/webdriver/support/wait.py\", line 95, in until\n    raise TimeoutException(message, screen, stacktrace)\n","steps":[{"name":"Find a visible element","time":{"start":1744513344781,"stop":1744513349910,"duration":5129},"status":"broken","statusMessage":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x55943c256e6a <unknown>\n#1 0x55943bd08640 <unknown>\n#2 0x55943bd59b5a <unknown>\n#3 0x55943bd59d51 <unknown>\n#4 0x55943bda8344 <unknown>\n#5 0x55943bd7f77d <unknown>\n#6 0x55943bda57b5 <unknown>\n#7 0x55943bd7f523 <unknown>\n#8 0x55943bd4bef3 <unknown>\n#9 0x55943bd4cb51 <unknown>\n#10 0x55943c21bd2b <unknown>\n#11 0x55943c21fc01 <unknown>\n#12 0x55943c203512 <unknown>\n#13 0x55943c220774 <unknown>\n#14 0x55943c1e790f <unknown>\n#15 0x55943c244fb8 <unknown>\n#16 0x55943c245196 <unknown>\n#17 0x55943c255cb6 <unknown>\n#18 0x7f755409caa4 <unknown>\n#19 0x7f7554129c3c <unknown>\n\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/luma_project/luma_project/pages/base_page.py\", line 30, in element_is_visible\n    self.go_to_element(self.element_is_present(locator))\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/luma_project/luma_project/pages/base_page.py\", line 51, in element_is_present\n    return wait(self.driver, timeout).until(EC.presence_of_element_located(locator))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/selenium/webdriver/support/wait.py\", line 95, in until\n    raise TimeoutException(message, screen, stacktrace)\n","steps":[{"name":"Find a present element","time":{"start":1744513344781,"stop":1744513349909,"duration":5128},"status":"broken","statusMessage":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x55943c256e6a <unknown>\n#1 0x55943bd08640 <unknown>\n#2 0x55943bd59b5a <unknown>\n#3 0x55943bd59d51 <unknown>\n#4 0x55943bda8344 <unknown>\n#5 0x55943bd7f77d <unknown>\n#6 0x55943bda57b5 <unknown>\n#7 0x55943bd7f523 <unknown>\n#8 0x55943bd4bef3 <unknown>\n#9 0x55943bd4cb51 <unknown>\n#10 0x55943c21bd2b <unknown>\n#11 0x55943c21fc01 <unknown>\n#12 0x55943c203512 <unknown>\n#13 0x55943c220774 <unknown>\n#14 0x55943c1e790f <unknown>\n#15 0x55943c244fb8 <unknown>\n#16 0x55943c245196 <unknown>\n#17 0x55943c255cb6 <unknown>\n#18 0x7f755409caa4 <unknown>\n#19 0x7f7554129c3c <unknown>\n\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/luma_project/luma_project/pages/base_page.py\", line 51, in element_is_present\n    return wait(self.driver, timeout).until(EC.presence_of_element_located(locator))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/selenium/webdriver/support/wait.py\", line 95, in until\n    raise TimeoutException(message, screen, stacktrace)\n","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('css selector', '.message-success')"},{"name":"timeout","value":"5"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"locator","value":"('css selector', '.message-success')"},{"name":"timeout","value":"10"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"locator","value":"('css selector', '.message-success')"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"a315096e24f31f90","name":"Screenshot","source":"a315096e24f31f90.png","type":"image/png","size":55935},{"uid":"66e4bfb83be6a6b6","name":"HTML source","source":"66e4bfb83be6a6b6.html","type":"text/html","size":143415}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":13,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"driver::0","time":{"start":1744513350009,"stop":1744513350081,"duration":72},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clear_allure_result_folder::0","time":{"start":1744513829707,"stop":1744513829707,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"epic","value":"Review Page"},{"name":"tag","value":"@pytest.mark.xfail(reason='Flaky behavior on CI')"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_reviews_page"},{"name":"subSuite","value":"TestReviews"},{"name":"host","value":"fv-az1336-978"},{"name":"thread","value":"2809-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_reviews_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":["@pytest.mark.xfail(reason='Flaky behavior on CI')"]},"source":"d929b22753c9e1fe.json","parameterValues":[]}