{"uid":"c1fc582e6f3a3c1e","name":"TC 01_15_01 Verify possibility to vote with 4 stars","fullName":"tests.test_reviews_page.TestReviews#test_tc_01_15_04_check_that_it_is_possible_to_vote_for_4_star","historyId":"35f5c2973e4c2aa675f5aa7de8684c7e","time":{"start":1737857085499,"stop":1737857091017,"duration":5518},"description":"\n        The user is NOT logged in, located in the product card, section \"Reviews\"\n        1. All required fields are filled with correct data\n        2. Pressed 4 star\n        3.The \"Submit Review\" button is pressed\n        Result: Present in the DOM and visible on the page the message: \"You submitted your review for moderation.\n        This code works when run on Win, Mac, Ubuntu on a real laptop and has the features of working on GitHub Action.\n        When interacting with the GitHub Action, it checks not for the text of the \"Success\" message, but for the \"Success\" URL\"\n        ","descriptionHtml":"<pre><code>    The user is NOT logged in, located in the product card, section &quot;Reviews&quot;\n    1. All required fields are filled with correct data\n    2. Pressed 4 star\n    3.The &quot;Submit Review&quot; button is pressed\n    Result: Present in the DOM and visible on the page the message: &quot;You submitted your review for moderation.\n    This code works when run on Win, Mac, Ubuntu on a real laptop and has the features of working on GitHub Action.\n    When interacting with the GitHub Action, it checks not for the text of the &quot;Success&quot; message, but for the &quot;Success&quot; URL&quot;\n</code></pre>\n","status":"skipped","statusMessage":"XFAIL Flaky behavior on CI\n\nselenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x5649035a67ca <unknown>\n#1 0x56490309e2f0 <unknown>\n#2 0x5649030ee035 <unknown>\n#3 0x5649030ee251 <unknown>\n#4 0x564903134054 <unknown>\n#5 0x5649031129dd <unknown>\n#6 0x5649031313b3 <unknown>\n#7 0x564903112753 <unknown>\n#8 0x5649030dfbaa <unknown>\n#9 0x5649030e0dfe <unknown>\n#10 0x56490357138b <unknown>\n#11 0x564903575307 <unknown>\n#12 0x56490355de7c <unknown>\n#13 0x564903575ec7 <unknown>\n#14 0x56490354224f <unknown>\n#15 0x5649035952f8 <unknown>\n#16 0x5649035954c0 <unknown>\n#17 0x5649035a5646 <unknown>\n#18 0x7fdd51a9ca94 <unknown>\n#19 0x7fdd51b29c3c <unknown>","statusTrace":"self = <test_reviews_page.TestReviews object at 0x7ff9a2547550>\ndriver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"529cc1bdfa7cb29015fe72465c23628c\")>\n\n    @pytest.mark.xfail(reason=\"Flaky behavior on CI\")\n    @allure.title('TC 01_15_01 Verify possibility to vote with 4 stars')\n    def test_tc_01_15_04_check_that_it_is_possible_to_vote_for_4_star(self, driver):\n        \"\"\"\n        The user is NOT logged in, located in the product card, section \"Reviews\"\n        1. All required fields are filled with correct data\n        2. Pressed 4 star\n        3.The \"Submit Review\" button is pressed\n        Result: Present in the DOM and visible on the page the message: \"You submitted your review for moderation.\n        This code works when run on Win, Mac, Ubuntu on a real laptop and has the features of working on GitHub Action.\n        When interacting with the GitHub Action, it checks not for the text of the \"Success\" message, but for the \"Success\" URL\"\n        \"\"\"\n    \n        \"\"\"Steps\"\"\"\n        page = ReviewsPage(driver, REVIEWS_URL_GENERAL)\n        page.open()\n    \n        \"\"\"Get the current URL and print it\"\"\"\n        page.get_the_current_URL_and_print_it()\n    \n        \"\"\"Steps\"\"\"\n>       page.open_review_menu()\n\ntests/test_reviews_page.py:199: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/reviews_page.py:14: in open_review_menu\n    review_menu = self.element_is_clickable(self.locators.REVIEW_MENU)\npages/base_page.py:80: in element_is_clickable\n    return wait(self.driver, timeout).until(EC.element_to_be_clickable(locator))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"529cc1bdfa7cb29015fe72465c23628c\")>\nmethod = <function element_to_be_clickable.<locals>._predicate at 0x7ff9a2b39580>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       #0 0x5649035a67ca <unknown>\nE       #1 0x56490309e2f0 <unknown>\nE       #2 0x5649030ee035 <unknown>\nE       #3 0x5649030ee251 <unknown>\nE       #4 0x564903134054 <unknown>\nE       #5 0x5649031129dd <unknown>\nE       #6 0x5649031313b3 <unknown>\nE       #7 0x564903112753 <unknown>\nE       #8 0x5649030dfbaa <unknown>\nE       #9 0x5649030e0dfe <unknown>\nE       #10 0x56490357138b <unknown>\nE       #11 0x564903575307 <unknown>\nE       #12 0x56490355de7c <unknown>\nE       #13 0x564903575ec7 <unknown>\nE       #14 0x56490354224f <unknown>\nE       #15 0x5649035952f8 <unknown>\nE       #16 0x5649035954c0 <unknown>\nE       #17 0x5649035a5646 <unknown>\nE       #18 0x7fdd51a9ca94 <unknown>\nE       #19 0x7fdd51b29c3c <unknown>\n\n/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/selenium/webdriver/support/wait.py:95: TimeoutException","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1737855487853,"stop":1737855487915,"duration":62},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clear_allure_result_folder","time":{"start":1737855487916,"stop":1737855487916,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"driver","time":{"start":1737857084314,"stop":1737857085499,"duration":1185},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n        The user is NOT logged in, located in the product card, section \"Reviews\"\n        1. All required fields are filled with correct data\n        2. Pressed 4 star\n        3.The \"Submit Review\" button is pressed\n        Result: Present in the DOM and visible on the page the message: \"You submitted your review for moderation.\n        This code works when run on Win, Mac, Ubuntu on a real laptop and has the features of working on GitHub Action.\n        When interacting with the GitHub Action, it checks not for the text of the \"Success\" message, but for the \"Success\" URL\"\n        ","status":"skipped","statusMessage":"XFAIL Flaky behavior on CI\n\nselenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x5649035a67ca <unknown>\n#1 0x56490309e2f0 <unknown>\n#2 0x5649030ee035 <unknown>\n#3 0x5649030ee251 <unknown>\n#4 0x564903134054 <unknown>\n#5 0x5649031129dd <unknown>\n#6 0x5649031313b3 <unknown>\n#7 0x564903112753 <unknown>\n#8 0x5649030dfbaa <unknown>\n#9 0x5649030e0dfe <unknown>\n#10 0x56490357138b <unknown>\n#11 0x564903575307 <unknown>\n#12 0x56490355de7c <unknown>\n#13 0x564903575ec7 <unknown>\n#14 0x56490354224f <unknown>\n#15 0x5649035952f8 <unknown>\n#16 0x5649035954c0 <unknown>\n#17 0x5649035a5646 <unknown>\n#18 0x7fdd51a9ca94 <unknown>\n#19 0x7fdd51b29c3c <unknown>","statusTrace":"self = <test_reviews_page.TestReviews object at 0x7ff9a2547550>\ndriver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"529cc1bdfa7cb29015fe72465c23628c\")>\n\n    @pytest.mark.xfail(reason=\"Flaky behavior on CI\")\n    @allure.title('TC 01_15_01 Verify possibility to vote with 4 stars')\n    def test_tc_01_15_04_check_that_it_is_possible_to_vote_for_4_star(self, driver):\n        \"\"\"\n        The user is NOT logged in, located in the product card, section \"Reviews\"\n        1. All required fields are filled with correct data\n        2. Pressed 4 star\n        3.The \"Submit Review\" button is pressed\n        Result: Present in the DOM and visible on the page the message: \"You submitted your review for moderation.\n        This code works when run on Win, Mac, Ubuntu on a real laptop and has the features of working on GitHub Action.\n        When interacting with the GitHub Action, it checks not for the text of the \"Success\" message, but for the \"Success\" URL\"\n        \"\"\"\n    \n        \"\"\"Steps\"\"\"\n        page = ReviewsPage(driver, REVIEWS_URL_GENERAL)\n        page.open()\n    \n        \"\"\"Get the current URL and print it\"\"\"\n        page.get_the_current_URL_and_print_it()\n    \n        \"\"\"Steps\"\"\"\n>       page.open_review_menu()\n\ntests/test_reviews_page.py:199: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/reviews_page.py:14: in open_review_menu\n    review_menu = self.element_is_clickable(self.locators.REVIEW_MENU)\npages/base_page.py:80: in element_is_clickable\n    return wait(self.driver, timeout).until(EC.element_to_be_clickable(locator))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"529cc1bdfa7cb29015fe72465c23628c\")>\nmethod = <function element_to_be_clickable.<locals>._predicate at 0x7ff9a2b39580>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       #0 0x5649035a67ca <unknown>\nE       #1 0x56490309e2f0 <unknown>\nE       #2 0x5649030ee035 <unknown>\nE       #3 0x5649030ee251 <unknown>\nE       #4 0x564903134054 <unknown>\nE       #5 0x5649031129dd <unknown>\nE       #6 0x5649031313b3 <unknown>\nE       #7 0x564903112753 <unknown>\nE       #8 0x5649030dfbaa <unknown>\nE       #9 0x5649030e0dfe <unknown>\nE       #10 0x56490357138b <unknown>\nE       #11 0x564903575307 <unknown>\nE       #12 0x56490355de7c <unknown>\nE       #13 0x564903575ec7 <unknown>\nE       #14 0x56490354224f <unknown>\nE       #15 0x5649035952f8 <unknown>\nE       #16 0x5649035954c0 <unknown>\nE       #17 0x5649035a5646 <unknown>\nE       #18 0x7fdd51a9ca94 <unknown>\nE       #19 0x7fdd51b29c3c <unknown>\n\n/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/selenium/webdriver/support/wait.py:95: TimeoutException","steps":[{"name":"Open a browser","time":{"start":1737857085500,"stop":1737857085898,"duration":398},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Find clickable elements","time":{"start":1737857085903,"stop":1737857091017,"duration":5114},"status":"broken","statusMessage":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x5649035a67ca <unknown>\n#1 0x56490309e2f0 <unknown>\n#2 0x5649030ee035 <unknown>\n#3 0x5649030ee251 <unknown>\n#4 0x564903134054 <unknown>\n#5 0x5649031129dd <unknown>\n#6 0x5649031313b3 <unknown>\n#7 0x564903112753 <unknown>\n#8 0x5649030dfbaa <unknown>\n#9 0x5649030e0dfe <unknown>\n#10 0x56490357138b <unknown>\n#11 0x564903575307 <unknown>\n#12 0x56490355de7c <unknown>\n#13 0x564903575ec7 <unknown>\n#14 0x56490354224f <unknown>\n#15 0x5649035952f8 <unknown>\n#16 0x5649035954c0 <unknown>\n#17 0x5649035a5646 <unknown>\n#18 0x7fdd51a9ca94 <unknown>\n#19 0x7fdd51b29c3c <unknown>\n\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/luma_project/luma_project/pages/base_page.py\", line 80, in element_is_clickable\n    return wait(self.driver, timeout).until(EC.element_to_be_clickable(locator))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/selenium/webdriver/support/wait.py\", line 95, in until\n    raise TimeoutException(message, screen, stacktrace)\n","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"('css selector', '#tab-label-reviews-title')"},{"name":"timeout","value":"5"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"65f18fb0b175a6c4","name":"Screenshot","source":"65f18fb0b175a6c4.png","type":"image/png","size":25649},{"uid":"19ddf27ed46048f8","name":"HTML source","source":"19ddf27ed46048f8.html","type":"text/html","size":258795}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"driver::0","time":{"start":1737857091130,"stop":1737857091193,"duration":63},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clear_allure_result_folder::0","time":{"start":1737857973906,"stop":1737857973906,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"epic","value":"Review Page"},{"name":"tag","value":"@pytest.mark.xfail(reason='Flaky behavior on CI')"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_reviews_page"},{"name":"subSuite","value":"TestReviews"},{"name":"host","value":"fv-az1314-617"},{"name":"thread","value":"2774-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_reviews_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":["@pytest.mark.xfail(reason='Flaky behavior on CI')"]},"source":"c1fc582e6f3a3c1e.json","parameterValues":[]}